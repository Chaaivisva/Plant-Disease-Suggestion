{% extends 'base.html' %}

{% load static %}
{% block title %}Upload Problem{% endblock %}
{% block content %}
<div class="mt-8 mb-5">
  <div class="grid grid-cols-3 gap-2">
    <div class="flex justify-center items-center">
      <p class="text-green-700 text-xl font-semibold"><a href="{% url 'user_page1' %}">Plant Library</a></p>
    </div>

    <div class="flex justify-center items-center">
      <p class="underline text-gray-600 text-xl underline-offset-4 font-semibold p-2 bg-[#90EE91] shadow"><a href="{% url 'user_problem' %}">Problem</a></p>
    </div>

    <div class="flex justify-center items-center">
      <p class="text-green-700 text-xl font-semibold"><a href="{% url 'daily_updates' %}">Daily Updates</a></p>
    </div>
    
  </div>
</div>
<div class="grid grid-cols-1 md:grid-cols-5 gap-4">
  <div class="md:col-span-1">
    <div class="bg-base-100 py-8 px-6">

      <div class="p-6 rounded-xl bg-[#90EE91] shadow-md">
        <div class="text-gray-500 font-semibold text-2xl">Menu</div>
        <div class="text-gray-600 font-semibold text-lg mt-2"><a href="{% url 'index' %}">Home</a></div>
      </div>

      <div class="p-6 rounded-xl mt-5 bg-[#90EE91] shadow-md">
          <div class="text-gray-500 font-semibold text-xl">Your Profile</div>
          <div class="mt-2">
            <p class="text-gray-600 font-semibold">Name :</p> {{ user.username }}
          </div>
          <div class="mt-2">
            <p class="text-gray-600 font-semibold">E-mail :</p> {{ user.email }}
          </div>
      </div>

      <div class="p-6 rounded-xl mt-5 shadow-md">
        <div>
          <form>
            <label for="date" class="block text-gray-600 font-semibold">Current Date:</label>
            <input type="text" id="date" name="date" class="w-full border rounded-md py-2 px-3 text-gray-700 mt-1" disabled>
          </form>
        </div>
      </div>

    </div>
  </div>

  <div class="md:col-span-4 py-8 px-6 bg-gray-200 rounded-t-xl">
    <div class="p-6 flex items-center justify-between">
      <div class="text-2xl font-semibold text-gray-600">Upload Your Problems Here.....</div>
    </div>

    <form method="POST" enctype="multipart/form-data" class="md:col-span-4 bg-gray-100 rounded-b-lg p-4">
      {% csrf_token %}
      <div class="">
        <div class="mt-4">
          <label for="name" class="block text-gray-700 font-semibold">Plant Name :</label>
          <input type="text" name="name" class="w-full border rounded-md py-2 px-3 text-gray-700 mt-1">
        </div>
              
        <div class="mt-4">
          <label for="image" class="block text-gray-700 font-semibold">Plant Disease Image :</label>
          <input type="file" name="image" class="w-full border rounded-md py-2 px-3 text-gray-700 mt-1">
        </div>
  
        <div class="mt-4 col-span-2">
          <label for="description" class="block text-gray-700 font-semibold">Description :</label>
          <textarea name="description" rows="4" class="w-full border rounded-md py-2 px-3 text-gray-700 mt-1"></textarea>
        </div>
  
        <div class="mt-6 col-span-2">
          <button type="submit" class="bg-[#90EE91] hover:bg-[#90EE91] font-bold py-2 px-4 rounded text-white">Submit</button>
        </div>
      </div>
    </form>
  </div>
</div>

<script>  
  var today = new Date();
  var yyyy = today.getFullYear();
  var mm = today.getMonth() + 1;
  var dd = today.getDate();
  if (mm < 10) {
    mm = '0' + mm;
  }
  if (dd < 10) {
    dd = '0' + dd;
  }
  var formattedDate = yyyy + '-' + mm + '-' + dd; 
  document.getElementById('date').value = formattedDate;
</script>
{% endblock %}
